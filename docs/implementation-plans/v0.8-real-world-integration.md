# Version 0.8: Real-World Integration Continued - Implementation Plan

**Status:** ðŸš§ **IN PROGRESS**

**Goal:** Continue real-world integration features (Remote Connection, Critical Gaps, API Polish) building on v0.7 foundation.

**Releases:**
- v0.8.0: Typed Evaluate API (2025-12-30) - Community contribution by @douglasob
- v0.8.x: Remote Connection & API Polish (Planned)

**Related:**
- [Roadmap](../roadmap.md)
- [ADR 0004: Typed Evaluate API](../adr/0004-generic-evaluate.md)
- [v0.7 Implementation Plan](v0.7-single-crate.md)

---

## Version Bump Rationale

**Why v0.8.0 instead of v0.7.3?**

Community contribution PR #8 (@douglasob) introduced a **major new feature** - typed `evaluate()` with argument serialization - that warranted a minor version bump per semantic versioning:

- âœ… New public API: `Page::evaluate<T, U>()`
- âœ… Closes critical capability gap (argument passing to JavaScript)
- âœ… Significant user-facing feature addition

This contribution was substantial enough to merit closing v0.7 and starting v0.8. The remaining v0.7 items (Remote Connection, Critical Gaps, API Polish) continue as planned in v0.8.

---

## Vertical Slices

### Slice 0: Typed Evaluate API (v0.8.0)

**Status:** âœ… **COMPLETE** (2025-12-30)

**Goal:** Implement typed `evaluate()` method with argument serialization and typed results.

**Key Deliverables:**
- [x] Generic `Page::evaluate<T: Serialize, U: DeserializeOwned>()`
- [x] Serialization module for Playwright protocol format
- [x] Example: `evaluate_typed.rs`

**Community Credit:**
- Implementation by @douglasob (Douglas Braga)
- See [ADR 0004](../adr/0004-generic-evaluate.md) for complete details

---

### Slice 1: Remote Connection (v0.8.x)

**Status:** ðŸ”´ **Not Started**

**Goal:** Implement `BrowserType::connect` for remote browser connection (critical for CI/CD).

**User Story:** As a developer, I want to connect to a remote Playwright browser (e.g., in Docker or BrowserStack) so I can run tests in CI/CD environments.

**Tasks:**
- [ ] Define `ConnectOptions` struct (ws_endpoint, headers, slow_mo, timeout)
- [ ] Implement `BrowserType::connect(url, options)`
- [ ] Implement `BrowserType::connect_over_cdp(url, options)` (optional)
- [ ] Verify `Transport` WebSocket support (add tungstenite dependency)
- [ ] Add integration tests (launch server separately, connect to it)

---

### Slice 2: Critical Feature Gaps (v0.8.x)

**Status:** ðŸ”´ **Not Started**

**Goal:** Address critical missing features and stability issues identified in the gap analysis.

**Tasks:**
- [ ] **[CRITICAL]** Audit `Locator` API (specifically `select_option`, `set_input_files`)
- [ ] Implement `WebSocket` event handling (`on_websocket`)

---

### Slice 3: API Polish & DX (v0.8.x)

**Status:** ðŸ”´ **Not Started**

**Goal:** Improve developer experience and API completeness before v1.0.

**Tasks:**
- [ ] Implement `FilePayload` struct improvements
- [ ] Add `BrowserContext` options
- [ ] Review `Route` API overrides
- [ ] Improve error messages based on Folio feedback

---

**Last Updated:** 2025-12-30
